private ImageContent ConvertToImageContent(byte[] imageBytes, object imageInfo)
        {
            string mimeType = "image/png"; // default

            try
            {
                // Detect format using ImageSharp
                var imageInfo = Image.DetectFormat(imageBytes);
                if (imageInfo != null)
                {
                    mimeType = imageInfo.DefaultMimeType;
                }
            }
            catch
            {
                // If detection fails, try to infer from imageInfo parameter
                if (imageInfo is string contentType)
                {
                    mimeType = contentType;
                }
            }

            return new ImageContent(imageBytes, mimeType);
        }
